<!--
 * @Description: 
 * @Date: 2024-12-05 00:38:02
 * @LastEditTime: 2024-12-05 23:15:10
-->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ä¸½è“‰ï¼Œç”Ÿæ—¥å¿«ä¹</title>
    <style type="text/css">
      @keyframes circlemusic {
        to {
          transform: rotate(360deg);
        }
      }
      .musicbox {
        animation: circlemusic 10s linear infinite;
      }
      body {
        background-color: black;
      }
      body,
      html {
        width: 100%;
        height: 100%;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .time {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        justify-content: space-around;
        align-items: center;
        /* gap:4px */
      }
      .time div {
        padding: 5px;
        background: white;
        /* width: 50px; */
        height: 25px;
      }
      .text {
        font-size: 18px;
        font-weight: bold;
        font-style: italic;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div style="position: fixed; top: 0; left: 0; transform: rotate(30deg)">
      <img src="./è›‹ç³•.png" alt="" width="300" />
    </div>
    <div style="position: fixed; top: 80px; right: 0">
      <audio id="audio" controls loop style="display: none">
        <source src="./Happy Birthday.mp3" type="audio/mpeg" />
      </audio>
      <div
        id="musicbox"
        style="
          width: 50px;
          height: 50px;
          background-color: rgb(192, 190, 190);
          border-radius: 50%;
          line-height: 50px;
          text-align: center;
        "
      >
        <span span="20px">ğŸµ</span>
      </div>
      <div style="margin-top: 10px">
        <button id="play" style="display: 'inline-block'">æ’­æ”¾</button>
        <button id="pase" style="display: none">æš‚åœ</button>
      </div>
    </div>
    <div
      style="
        position: absolute;
        width: 400px;
        /* top: 50%;
        left: 50%;
        transform: translate(-50%, -50%); */
        transform: scale(2);
      "
    >
      <div style="text-align: center">
        <img src="./R-C.jpg" alt="" width="200" />
      </div>
      <div
        class="text"
        style="display: flex; justify-content: center; margin-bottom: 10px"
      >
        <div
          style="
            text-align: center;
            width: 65px;
            height: 30px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
          "
        >
          Happy
        </div>
        <div
          style="
            text-align: center;
            width: 90px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          Birthday
        </div>
      </div>
      <div
        class="text"
        style="display: flex; justify-content: center; margin-bottom: 10px"
      >
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          ç”Ÿ
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          æ—¥
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          å¿«
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          ä¹
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          !
        </div>
      </div>
      <div
        class="text"
        style="display: flex; justify-content: center; margin-bottom: 10px"
      >
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          å¤©
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          å¤©
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          å¼€
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          å¿ƒ
        </div>
        <div
          style="
            text-align: center;
            width: 55px;
            background: rgb(255, 116, 116);
            color: rgb(255, 243, 134);
            height: 30px;
          "
        >
          !
        </div>
      </div>
      <div class="time text" style="text-align: center">
        <div
          style="background: rgb(255, 116, 116); color: rgb(255, 243, 134)"
          id="Y"
        ></div>
        <div
          style="background: rgb(255, 116, 116); color: rgb(255, 243, 134)"
          id="D"
        ></div>
        <div
          style="background: rgb(255, 116, 116); color: rgb(255, 243, 134)"
          id="H"
        ></div>
        <div
          style="background: rgb(255, 116, 116); color: rgb(255, 243, 134)"
          id="M"
        ></div>
        <div
          style="background: rgb(255, 116, 116); color: rgb(255, 243, 134)"
          id="S"
        ></div>
      </div>
    </div>
    <canvas id="stars"></canvas>
    <script>
      var music = document.getElementById("audio");
      var play = document.getElementById("play");
      var pase = document.getElementById("pase");
      var musicbox = document.getElementById("musicbox");
      play.addEventListener("click", onplay);
      pase.addEventListener("click", onpase);
      function onplay() {
        play.style.display = "none";
        pase.style.display = "";
        music.play();
        musicbox.classList.add("musicbox");
      }
      function onpase() {
        play.style.display = "";
        pase.style.display = "none";
        audio.pause();
        musicbox.classList.remove("musicbox");
      }

      setInterval(() => {
        var date = new Date();
        var year = date.getFullYear();
        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var minute = date.getMinutes();
        var second = date.getSeconds();
        var startTime = new Date(2024, 12, 6);
        var endTime = new Date(year, month, day, hour, minute, second);
        var time = endTime - startTime;
        var y = 25 + parseInt(time / (24 * 3600 * 1000 * 365));
        var leave = time % (24 * 3600 * 1000 * 365);
        var days = parseInt(leave / (24 * 3600 * 1000));
        var leave1 = time % (24 * 3600 * 1000);
        var hours = parseInt(leave1 / (3600 * 1000));
        var leave2 = leave1 % (3600 * 1000);
        var minutes = parseInt(leave2 / (60 * 1000));
        var leave3 = leave2 % (60 * 1000);
        var seconds = parseInt(leave3 / 1000);
        var str =
          "" +
          y +
          "å¹´" +
          days +
          "å¤©" +
          hours +
          "å°æ—¶" +
          minutes +
          "åˆ†" +
          seconds +
          "ç§’";
        document.getElementById("Y").innerHTML = y + "å²";
        document.getElementById("D").innerHTML = days + "å¤©";
        document.getElementById("H").innerHTML = hours + "æ—¶";
        document.getElementById("M").innerHTML = minutes + "åˆ†";
        document.getElementById("S").innerHTML = seconds + "ç§’";
        // document.getElementsByClassName("time")[0].innerHTML = str;
      }, 1000);

      var context;
      var arr = new Array();
      var starCount = 800;
      var rains = new Array();
      var rainCount = 20;
      //åˆå§‹åŒ–ç”»å¸ƒåŠcontext
      function init() {
        //è·å–canvas
        var stars = document.getElementById("stars");
        windowWidth = window.innerWidth; //å½“å‰çš„çª—å£çš„é«˜åº¦
        stars.width = windowWidth;
        stars.height = window.innerHeight;
        //è·å–context
        context = stars.getContext("2d");
      }
      //åˆ›å»ºä¸€ä¸ªæ˜Ÿæ˜Ÿå¯¹è±¡
      var Star = function () {
        this.x = windowWidth * Math.random(); //æ¨ªåæ ‡
        this.y = 5000 * Math.random(); //çºµåæ ‡
        this.text = "."; //æ–‡æœ¬
        this.color = "white"; //é¢œè‰²
        //äº§ç”Ÿéšæœºé¢œè‰²
        this.getColor = function () {
          var _r = Math.random();
          if (_r < 0.5) {
            this.color = "#333";
          } else {
            this.color = "white";
          }
        };
        //åˆå§‹åŒ–
        this.init = function () {
          this.getColor();
        };
        //ç»˜åˆ¶
        this.draw = function () {
          context.fillStyle = this.color;
          context.fillText(this.text, this.x, this.y);
        };
      };
      //ç”»æœˆäº®
      function drawMoon() {
        var moon = new Image();
        moon.src = "./images/moon.jpg";
        context.drawImage(moon, -5, -10);
      }
      //é¡µé¢åŠ è½½çš„æ—¶å€™
      window.onload = function () {
        init();
        //ç”»æ˜Ÿæ˜Ÿ
        for (var i = 0; i < starCount; i++) {
          var star = new Star();
          star.init();
          star.draw();
          arr.push(star);
        }
        //ç”»æµæ˜Ÿ
        for (var i = 0; i < rainCount; i++) {
          var rain = new MeteorRain();
          rain.init();
          rain.draw();
          rains.push(rain);
        }
        drawMoon(); //ç»˜åˆ¶æœˆäº®
        playStars(); //ç»˜åˆ¶é—ªåŠ¨çš„æ˜Ÿæ˜Ÿ
        playRains(); //ç»˜åˆ¶æµæ˜Ÿ
      };
      //æ˜Ÿæ˜Ÿé—ªèµ·æ¥
      function playStars() {
        for (var n = 0; n < starCount; n++) {
          arr[n].getColor();
          arr[n].draw();
        }

        setTimeout("playStars()", 100);
      }

      /*æµæ˜Ÿé›¨å¼€å§‹*/
      var MeteorRain = function () {
        this.x = -1;
        this.y = -1;
        this.length = -1; //é•¿åº¦
        this.angle = 30; //å€¾æ–œè§’åº¦
        this.width = -1; //å®½åº¦
        this.height = -1; //é«˜åº¦
        this.speed = 1; //é€Ÿåº¦
        this.offset_x = -1; //æ¨ªè½´ç§»åŠ¨åç§»é‡
        this.offset_y = -1; //çºµè½´ç§»åŠ¨åç§»é‡
        this.alpha = 1; //é€æ˜åº¦
        this.color1 = ""; //æµæ˜Ÿçš„è‰²å½©
        this.color2 = ""; //æµæ˜Ÿçš„è‰²å½©
        /****************åˆå§‹åŒ–å‡½æ•°********************/
        this.init = function () //åˆå§‹åŒ–
        {
          this.getPos();
          this.alpha = 1; //é€æ˜åº¦
          this.getRandomColor();
          //æœ€å°é•¿åº¦ï¼Œæœ€å¤§é•¿åº¦
          var x = Math.random() * 80 + 150;
          this.length = Math.ceil(x);
          // x = Math.random()*10+30;
          this.angle = 30; //æµæ˜Ÿå€¾æ–œè§’
          x = Math.random() + 0.5;
          this.speed = Math.ceil(x); //æµæ˜Ÿçš„é€Ÿåº¦
          var cos = Math.cos((this.angle * 3.14) / 180);
          var sin = Math.sin((this.angle * 3.14) / 180);
          this.width = this.length * cos; //æµæ˜Ÿæ‰€å å®½åº¦
          this.height = this.length * sin; //æµæ˜Ÿæ‰€å é«˜åº¦
          this.offset_x = this.speed * cos;
          this.offset_y = this.speed * sin;
        };
        /**************è·å–éšæœºé¢œè‰²å‡½æ•°*****************/
        this.getRandomColor = function () {
          var a = Math.ceil(255 - 240 * Math.random());
          //ä¸­æ®µé¢œè‰²
          this.color1 = "rgba(" + a + "," + a + "," + a + ",1)";
          //ç»“æŸé¢œè‰²
          this.color2 = "black";
        };
        /***************é‡æ–°è®¡ç®—æµæ˜Ÿåæ ‡çš„å‡½æ•°******************/
        this.countPos = function () //
        {
          //å¾€å·¦ä¸‹ç§»åŠ¨,xå‡å°‘ï¼Œyå¢åŠ 
          this.x = this.x - this.offset_x;
          this.y = this.y + this.offset_y;
        };
        /*****************è·å–éšæœºåæ ‡çš„å‡½æ•°*****************/
        this.getPos = function () //
        {
          //æ¨ªåæ ‡200--1200
          this.x = Math.random() * window.innerWidth; //çª—å£é«˜åº¦
          //çºµåæ ‡å°äº600
          this.y = Math.random() * window.innerHeight; //çª—å£å®½åº¦
        };
        /****ç»˜åˆ¶æµæ˜Ÿ***************************/
        this.draw = function () //ç»˜åˆ¶ä¸€ä¸ªæµæ˜Ÿçš„å‡½æ•°
        {
          context.save();
          context.beginPath();
          context.lineWidth = 1; //å®½åº¦
          context.globalAlpha = this.alpha; //è®¾ç½®é€æ˜åº¦
          //åˆ›å»ºæ¨ªå‘æ¸å˜é¢œè‰²,èµ·ç‚¹åæ ‡è‡³ç»ˆç‚¹åæ ‡
          var line = context.createLinearGradient(
            this.x,
            this.y,
            this.x + this.width,
            this.y - this.height
          );
          //åˆ†æ®µè®¾ç½®é¢œè‰²
          line.addColorStop(0, "white");
          line.addColorStop(0.3, this.color1);
          line.addColorStop(0.6, this.color2);
          context.strokeStyle = line;
          //èµ·ç‚¹
          context.moveTo(this.x, this.y);
          //ç»ˆç‚¹
          context.lineTo(this.x + this.width, this.y - this.height);
          context.closePath();
          context.stroke();
          context.restore();
        };
        this.move = function () {
          //æ¸…ç©ºæµæ˜Ÿåƒç´ 
          var x = this.x + this.width - this.offset_x;
          var y = this.y - this.height;
          context.clearRect(x - 3, y - 3, this.offset_x + 5, this.offset_y + 5);
          // context.strokeStyle="red";
          // context.strokeRect(x,y-1,this.offset_x+1,this.offset_y+1);
          //é‡æ–°è®¡ç®—ä½ç½®ï¼Œå¾€å·¦ä¸‹ç§»åŠ¨
          this.countPos();
          //é€æ˜åº¦å¢åŠ 
          this.alpha -= 0.002;
          //é‡ç»˜
          this.draw();
        };
      };
      //ç»˜åˆ¶æµæ˜Ÿ
      function playRains() {
        for (var n = 0; n < rainCount; n++) {
          var rain = rains[n];
          rain.move(); //ç§»åŠ¨
          if (rain.y > window.innerHeight) {
            //è¶…å‡ºç•Œé™åé‡æ¥
            context.clearRect(
              rain.x,
              rain.y - rain.height,
              rain.width,
              rain.height
            );
            rains[n] = new MeteorRain();
            rains[n].init();
          }
        }
        setTimeout("playRains()", 2);
      }
      /*æµæ˜Ÿé›¨ç»“æŸ*/
    </script>
  </body>
</html>
